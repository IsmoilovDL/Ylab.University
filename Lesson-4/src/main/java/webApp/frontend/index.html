<!DOCTYPE html>
<html>
   <head>
     <title> Игра X/O</title>
     <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
     <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
   </head>

   <body>
   <h1>Игра Х/0</h1>
   <div class="create-block">
        <div id="players-container">
            <h4>Список игроков</h4>
            <div class="item"></div>
        </div>

       <form  method="post">
       <label >Имя игрока
       </label><br>
         <input type="text" name="name">

       <input type="submit" value="Создать" id="create">
       </form>
   </div>

   </body>

   <script>
       $( document ).ready(function() {

            function players() {
                $('.item').empty();
                $.ajax({
                    url: 'http://localhost:8080/gameplay/players',
                    type: 'get',
                    dataType: 'json',
                    success: function (data) {
                        for (var key in data) {
                            console.log(data[key]['name']);
                            $(".item").append("<div class=\"player\">" + data[key]['name'] + "</div>");
                        }
                    }
                });
            }
           players();
           $("#create").click(function (event){
               event.preventDefault();
               $.ajax({
                   url: 'http://localhost:8080/gameplay/player',
                   type: 'post',
                   dataType: 'html',
                   data: $('form').serialize(),
                   success: function(data) {
                       console.log(data);
                       players();

                   }
               });
           });
       });
   </script>

<style media="screen">
    #players-container{
        width: 300px;
        background: #cccccc;
        padding: 30px;
    }
    .create-block{
        display: flex;
    }
    .create-block form{
        padding: 30px;
    }

</style>

 </html>
